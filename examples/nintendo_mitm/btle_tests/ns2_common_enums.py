GENERIC_ACCESS_SERVICE_UUID = "1800"
IDK_SERVICE_UUID = "1801"
DEVICE_NAME_UUID = "2A00"
APPEARANCE_UUID = "2A01"
CONNECTION_PARAMS_UUID = "2A04"

DEVICE_INFO_SERVICE_UUID = "180A"
MANUFACTURER_NAME_UUID = "2A29"
MODEL_UUID = "2A24"
SERIAL_UUID = "2A25"
FW_VERSION_UUID = "2A26"
HW_VERSION_UUID = "2A27"
SW_VERSION_UUID = "2A28"
USB_PID_UUID = "2A50"

BATTERY_INFO_SERVICE_UUID = "180F"
BATTERY_LEVEL_UUID = "2A19"

HID_SERVICE_UUID = "180F"
HID_PROTOCOL_MODE = "2A4E" # RW
HID_REPORT = "2A4D" # NOTIFY, RW
HID_REPORT_MAP = "2A4B" # READ
HID_BOOT_MOUSE_INPUT_REPORT = "2A33" # NOTIFY, RW
HID_INFORMATION = "2A4A" # READ
HID_CONTROL_POINT = "2A4C" # WRITE

NS2_SERVICE_UUID_A = "00c5af5d-1964-4e30-8f51-1956f96bd280"
NS2_SERVICE_UUID_B = "ab7de9be-89fe-49ad-828f-118f09df7fd0"

NS2_BASIC_INPUT_UUID = "ab7de9be-89fe-49ad-828f-118f09df7fd2"
NS2_UNKNOWN_NOTIFY = "ab7de9be-89fe-49ad-828f-118f09df7fde"
NS2_SIDECHANNEL_IN = "649d4ac9-8eb7-4e6c-af44-1ea54fe5f005"
NS2_SIDECHANNEL_OUT = "c765a961-d9d8-4d36-a20a-5315b111836a"
SIX_DOF_UUID = "6e401002-b5a3-f393-e0a9-e50e24dcca9e"
BUTTONS_UUID = "6e401003-b5a3-f393-e0a9-e50e24dcca9e"
CONTROL_INFORMATION_UUID = "6e401004-b5a3-f393-e0a9-e50e24dcca9e" # WRITE, WRITE NO RESPONSE
GESTURE_TRANSFORM_UUID = "6e401005-b5a3-f393-e0a9-e50e24dcca9e" # WRITE, WRITE NO RESPONSE
RESPONSE_FOR_CONTROL_INFORMATION_UUID = "6e401006-b5a3-f393-e0a9-e50e24dcca9e"
SIX_DOF_ECHO_UUID = "6e400004-b5a3-f393-e0a9-e50e24dcca9e"
NS2_SERVICES = [GENERIC_ACCESS_SERVICE_UUID, IDK_SERVICE_UUID, NS2_SERVICE_UUID_A, NS2_SERVICE_UUID_B] #DEVICE_NAME_UUID, APPEARANCE_UUID,

'''
6dof data sample:

bb 51 6c c5 23 04 00 00 
a  17 f5 bd 3c 
b  98 ff 87 bc 
c  b3 4b b8 bb

d  13 47 da be
e  29 b1 62 3f
f  a8 d9 3b be 
g  43 25 af 3c

h  00 00 80 3f

i  5e 05 cc 38
j  07 dd 01 38 
k  20 13 d8 39

l  1a dc 68 3a
m  73 98 7f b9
n  7d 19 fb 39 
o  c3 3e 98 bd

p  74 a7 86 bc
q  53 44 f8 bd

-0.43131065368652344 0.8852174282073975 -0.17074671387672424
-0.03473832830786705 1.0 0.00018610448751132935 -8.542356954421848e-05

0.0001795481948647648 0.00033443476422689855 -0.0008220796007663012 -0.0013942274963483214 -0.11059697717428207 0.07904180884361267 -0.03364615514874458
'''

'''
Haptic to CONTROL_INFORMATION_UUID

0x0600 0x00 (unk) 0xXXXX (mode, 0=light, 1=medium, 2=hard) 0xXXXXXXXX (duration)
print(await client.write_gatt_char(CONTROL_INFORMATION_UUID, struct.pack("<HBHL", 0x600, 0x0, test, 1000), True))
'''

'''
"TLV" message (Type Length Value)
0xXX (type) 0xXXXX (length) [...] (data size length)

most TLV messages:
0xXX (type) 0xXXXX (length) 0xNN (sequence number) [...] (data size length)
'''

TLV_VIBRATOR = 0x00 # u16 type 0=light,1=medium,2=hard, u32 duration. No Seq idx.
TLV_BUTTON_CALIBRATION = 0x01
TLV_TIME_SYNC = 0x02 # u64
TLV_TIME_SYNC_RESP = 0x03
TLV_LOG_FILE_LIST_REQ = 0x04
TLV_UNUSED_05 = 0x05
TLV_LOG_FILE_DOWNLOAD_REQ = 0x06
TLV_UNK_RESP_07 = 0x07
TLV_STOP_FILE_DL = 0x08
TLV_UNK_RESP_09 = 0x09
TLV_CONTROLLER_CALIBRATION_REQUEST = 0x0A
TLV_UNK_RESP_0B = 0x0B
TLV_DM_SENSE_MODE_SET = 0x0C # 1 u8 arg, 0x1 for mouse mode 0x0 for controller mode
TLV_DM_SENSE_MODE_REQ = 0x0D
TLV_DM_SENSE_MODE_SET_RESP = 0x0E
TLV_UNUSED_0F = 0x0F
TLV_UNUSED_10 = 0x10
TLV_CONTROLLER_DEAD_ZONE_REQ = 0x11
TLV_UNUSED_12 = 0x12
TLV_UPGRADE_STATE_REQ = 0x13 # seems NRF update focused
TLV_UNUSED_14 = 0x14
TLV_UPGRADE_OPR_REQ = 0x15 # u8 UPDATE_OPR -- seems Android update focused
TLV_UPGRADE_RESULT_REQ = 0x16 # seems NRF update focused
TLV_UNUSED_17 = 0x17
TLV_CONTROL_VIBRATOR_STEPLESS = 0x18 # u16 unk, u16 amplitude, u16 frequency, u32 duration, 
TLV_DATE_SET_REQ = 0x19
TLV_DATE_REQ = 0x1A
TLV_UNUSED_1B = 0x1B
TLV_SEND_FILE_REQ = 0x1C
TLV_UNUSED_1D = 0x1D
TLV_FILE = 0x1E
TLV_UNUSED_1F = 0x1F
#TLV_ = 0x
TLV_SEND_CMD = 0x20
TLV_CMD_RESP = 0x21
TLV_CAM_COLLECT_SET_REQ = 0x22 # CALIBRATION RELATED, DO NOT CALL: 4 u8 args grid_cols (1~4), grid_rows (1~4), orients_min (1~33), stop collecting w/ 0x00000002
TLV_CAM_COLLECT_SET_RESP = 0x23
TLV_CAM_COLLECT_STATE_REQ = 0x24 # no args
TLV_CAM_COLLECT_STATE_REQ_RESP = 0x25
TLV_JSON = 0x26

ENABLE_ADB_CMD = "settings put global development_settings_enabled 1;settings put global adb_enabled 1;start adbd;"
DISABLE_ADB_CMD = "settings put global development_settings_enabled 0;settings put global adb_enabled 0;stop adbd;"
START_MONITOR_CMD = "sys_monitor.sh --period=60"

UPDATE_OPR_YES = 0
UPDATE_OPR_NO = 1
UPDATE_OPR_CHECK = 2

#
# My enums and structs
#
DM_CHIRALITY_LEFT = 0
DM_CHIRALITY_RIGHT = 1

def hexdump(data):
    s = ""
    i = 0
    for b in data:
        if i != 0 and i % 16 == 0:
            s += "\n"
        
        s += ("%02x " % (b))
        i += 1
    print(s)

class textcolor:
    GREEN = '\033[92m'
    RED = '\033[91m'
    CYAN = '\033[96m'
    YELLOW = '\033[93m'
    GOLD = '\033[33m'
    BOLD = '\033[1m'
    END = '\033[0m'